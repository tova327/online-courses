<div class="course-management">
    <h2>Manage Courses</h2>
    
    <mat-card>
      <mat-card-title>Create New Course</mat-card-title>
      <mat-card-content>
        <form [formGroup]="courseForm" (ngSubmit)="createCourse()">
          <mat-form-field appearance="fill">
            <mat-label>Course Title</mat-label>
            <input matInput formControlName="title" />
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Course Description</mat-label>
            <textarea matInput formControlName="description"></textarea>
          </mat-form-field>
          <button mat-raised-button color="primary" type="submit">Create Course</button>
        </form>
      </mat-card-content>
    </mat-card>
  
    <mat-list>
      <h3 mat-subheader>Existing Courses</h3>
      @for(course of courses; track course.id){
      <mat-list-item >
        {{ course.title }}
        <button mat-button (click)="selectCourse(course.id)">Manage Lessons</button>
        <button mat-button color="warn" (click)="deleteCourse(course.id)">Delete</button>
      </mat-list-item>
    }
    </mat-list>
  @if(selectedCourseId !== null){
    <div >
      <mat-card>
        <mat-card-title>Manage Lessons for Course ID: {{ selectedCourseId }}</mat-card-title>
        <mat-card-content>
          <form [formGroup]="lessonForm" (ngSubmit)="createLesson()">
            <mat-form-field appearance="fill">
              <mat-label>Lesson Title</mat-label>
              <input matInput formControlName="title" />
            </mat-form-field>
            <mat-form-field appearance="fill">
              <mat-label>Lesson Content</mat-label>
              <textarea matInput formControlName="content"></textarea>
            </mat-form-field>
            <button mat-raised-button color="primary" type="submit">Create Lesson</button>
          </form>
        </mat-card-content>
      </mat-card>
  
      <mat-list>
        <h3 mat-subheader>Existing Lessons</h3>
        @for(lesson of lessons; track lesson.id){
        <mat-list-item >
          {{ lesson.title }}
          <button mat-button (click)="updateLesson(lesson.id)">Update</button>
          <button mat-button color="warn" (click)="deleteLesson(lesson.id)">Delete</button>
        </mat-list-item>}
      </mat-list>
    </div>}
  </div>
  